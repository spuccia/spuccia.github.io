---
layout: home
author_profile: true
---

<!-- <div id="visitor-counter">
  Visitors: <span id="visitor-count">...</span>
</div> -->

<script>
    (async function () {
        const NS = 'spuccia.github.io'; // pick a namespace
        const KEY = 'home';             // pick a key per page
        const hitUrl = `https://api.countapi.xyz/hit/${encodeURIComponent(NS)}/${encodeURIComponent(KEY)}`;
        const getUrl = `https://api.countapi.xyz/get/${encodeURIComponent(NS)}/${encodeURIComponent(KEY)}`;
        const STORAGE_KEY = 'countapi_last_visit_home';
        const TTL_MS = 12 * 60 * 60 * 1000; // don't recount within 12 hours

        function show(value) { document.getElementById('visitor-count').textContent = value; }

        try {
            const last = parseInt(localStorage.getItem(STORAGE_KEY) || '0', 10);
            const now = Date.now();
            if (!last || now - last > TTL_MS) {
                // increment and display new value
                const res = await fetch(hitUrl);
                if (!res.ok) throw new Error('hit failed');
                const data = await res.json();
                show(data.value);
                localStorage.setItem(STORAGE_KEY, String(now));
            } else {
                // just read current value without incrementing
                const res = await fetch(getUrl);
                if (!res.ok) throw new Error('get failed');
                const data = await res.json();
                show(data.value);
            }
        } catch (e) {
            console.warn('CountAPI error', e);
            show('N/A');
        }
    })();